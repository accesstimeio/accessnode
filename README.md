# accessnode

AccessNode is a self-hosted node for querying AccessTime blockchain data. Light mode provides user and purchase data; Full mode adds voting and statistics. Built with Ponder for indexing, Drizzle for DB queries, and Hono for API. Includes a UI for visualization.

## Installation

```bash
pnpm create accessnode
```

## Usage

1. Navigate to the project: `cd accessnode-app`
2. Configure .env.local (e.g., set `VITE_ACCESSNODE_TYPE=ful`l and `DATABASE_URL`)
3. Run the node:
    - Light mode: `pnpm start:light`
    - Full mode: `pnpm start:full`
    - With UI: `pnpm start:full:ui`
4. Access the UI (e.g., http://localhost:4173) or GraphQL API (http://localhost:42069/graphql)

## Configuration

- **Environment Variables** (in `.env.local`):
    - `VITE_ACCESSNODE_TYPE`: Set to light or full to control data scope
    - `DATABASE_URL`: PostgreSQL connection string (e.g., `postgresql://user:password@localhost:5432/accessnode`)
- **node.config.ts**: Generated by create-accessnode, specifies chains and contract addresses

## Features

- **Light Mode**: Indexes subscriptions (`accessTimeUser`) and purchases (`purchase`)
- **Full Mode**: Adds voting (`accessVote`, `vote`) and statistics (`statistic`)
- **UI**: Visualizes data, toggled by `VITE_ACCESSNODE_TYPE`
- **GraphQL API**: Query data via Ponderâ€™s Hono-based API
- **Drizzle**: Read-only DB access for custom queries

## Resources

- [AccessNode Repository](https://github.com/accesstimeio/accessnode)
- [AccessTime Documentation](https://docs.accesstime.io)
- [Ponder Documentation](https://ponder.sh)
- [Drizzle ORM](https://orm.drizzle.team)
- [Hono](https://hono.dev)